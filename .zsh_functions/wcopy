#!/bin/zsh
# Copies the content of a file to the clipboard as a file attachment (Drag & Drop behavior)

if [[ -z "$1" ]]; then
    echo "Usage: wcopy <file>" >&2
    return 1
fi

if [[ ! -f "$1" ]]; then
    echo "Error: '$1' is not a valid file" >&2
    return 1
fi

# Check if python3 is available
if ! command -v python3 &> /dev/null; then
    echo "Error: python3 is not installed" >&2
    return 1
fi

# The python script handles validation, daemonization, and clipboard usage via PyQt5
/home/ogomez/repo/dotfiles/scripts/wcopy.py "$@"
